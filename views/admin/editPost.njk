{% extends "layouts/dashboard.njk" %} {% block content %}
<h3 class="mt-3 text-center">ویرایش پست</h3>
<div class="w-50 mx-auto">{% include "includes/validationMessages.njk" %}</div>
<div class="d-flex align-items-center justify-content-center">
    <form action="/dashboard/edit-post/{{ post.id }}" class="w-75" method="POST" enctype="multipart/form-data">
        <div class="my-2">
            <label for="SelectedThumb" class="form-label">عکس کاور پست</label>
            <div class="input-group my-3">
                <label for="selectedThumbnail" id="thumbLabel" class="input-group-text">انتخاب عکس</label>
                <input type="file" class="form-control" name="thumbnail" id="selectedThumbnail" />
                <p id="imageStatus">عکس مورد نظر را انتخاب کنید</p>
            </div>
        </div>
        <div class="my-2">
            <label for="title" class="form-label">عنوان پست</label>
            <input type="text" class="form-control" name="title" id="title" value="{{ post.title }}" />
        </div>

        <div class="my-2">
            <label for="status" class="form-label">وضعیت</label>
            <select name="status" class="form-select" id="status">
                <option value='{% if post.status == "public" %}private{% else %}public{% endif %}'>
                    {% if post.status == "public" %}خصوصی{% else %}عمومی{% endif %}
                </option>
                <option value="{{ post.status }}" selected>
                    {% if post.status == "public" %}عمومی{% else %}خصوصی{% endif %}
                </option>
            </select>
        </div>

        <div class="input-group my-3">
            <label for="selectedImage" id="uploadLabel" class="input-group-text">انتخاب عکس</label>
            <input type="file" class="form-control" id="selectedImage">
            <p id="imageStatus">عکس مورد نظر را انتخاب کنید</p>
            <button class="btn btn-outline-secondary" type="button" id="imageUpload">
                آپلود عکس
            </button>
        </div>

        <div id="progressDiv" style="display: none">
            <div class="progress">
                <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                    aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>

        <div class="bg-light d-flex justify-content-between align-items-center text-center">
            <p id="uploadResult" class="overflow-auto col-10 my-1">
                آدرس عکس آپلود شده
            </p>
            <button id="clipboard" type="button" class="btn btn-icon-only mt-3 me-3"
                data-clipboard-target="#uploadResult">
                <span class="fa fa-clipboard"></span>
            </button>
        </div>

        <div class="my-2">
            <h5 class="form-label">متن اصلی پست</h5>
            <textarea name="body" class="form-control" id="body">
            {{ post.body }}
        </textarea>
        </div>

        <div>
            <input type="submit" value="ویرایش پست" class="btn btn-success m-2" />
            <a href="/dashboard" class="btn btn-warning m-2">انصراف</a>
        </div>
    </form>
</div>
{% endblock %}